<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-mango" class="anchor" href="https://github.com/kakao/mango#mango" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Mango</h1> 
  <p><a href="https://travis-ci.org/kakao/mango" target="_blank"><img src="https://camo.githubusercontent.com/d411533546bc8c9367eb02a006c39945566503be/68747470733a2f2f7472617669732d63692e6f72672f6b616b616f2f6d616e676f2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/kakao/mango.svg?branch=master" style="max-width:100%;"></a> <a href="https://gitter.im/kakao/mango?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/2f9f66adbff9dd3c4618e765aa06e5c1276dc4e9/68747470733a2f2f6261646765732e6769747465722e696d2f6b616b616f2f6d616e676f2e737667" alt="Join the chat at https://gitter.im/kakao/mango" data-canonical-src="https://badges.gitter.im/kakao/mango.svg" style="max-width:100%;"></a></p> 
  <p>Mango is a core utility library written Scala for handing JSON formats, concurrency, logging, hashing, cryptography, reflections, etc., as well as making client connections to various endpoints, including HTTP, Telnet, OpenTSDB, Couchbase, ElasticSearch, HBase and ZooKeeper. </p> 
  <p>Mango has been extensively used in Kakao for years, and is open-sourced under Apache License. Its name follows <a href="https://github.com/google/guava" target="_blank">Googlers' wisdom</a> that core libraries should be named after tropical fruits. </p> 
  <p>Mango is composed of several subprojects, and its dependency structure is shown below, where the upper one is dependent on the lower.</p> 
  <pre><code>                         ┌───────────┐
                         │   mango   │
                         └─────┬─────┘
                 ┌─────────────┼────────────────┐
           ┌─────┴─────┐   ┌───┴───┐   ┌────────┴──────┐
           │ couchbase │   │ hbase │   │ elasticsearch │
           └─────┬─────┘   └───┬───┘   └────────┬──────┘ 
                 │          ┌──┴───┐            │
                 │          |  zk  │            │
                 │          └──┬───┘            │
                 └─────────────┼────────────────┘
                          ┌────┴─────┐
                          │   core   │
                          └────┬─────┘
                         ┌─────┴─────┐
                         │   macro   │
                         └───────────┘
</code></pre> 
  <p>For example, you can pull the entire Mango library or import only the core and logging features, as follows:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.kakao.mango<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>mango<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.kakao.mango<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>mango-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Some examples of using Mango are shown below; more comprehensive documentations are in the wiki.</p> 
  <h2><a id="user-content-json-conversions" class="anchor" href="https://github.com/kakao/mango#json-conversions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><a href="https://github.com/kakao/mango/wiki/JSON" target="_blank">JSON Conversions</a></h2> 
  <p>It is simple to parse and serialize JSON files.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.kakao.mango.json.</span><span class="pl-v">_</span>

<span class="pl-c"><span class="pl-c">//</span> serialize a case class or Map to JSON</span>
<span class="pl-k">val</span> <span class="pl-en">data</span> <span class="pl-k">=</span> <span class="pl-en">Map</span>(<span class="pl-s"><span class="pl-pds">"</span>happy<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>new year<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">json</span> <span class="pl-k">=</span> toJson(data)        <span class="pl-c"><span class="pl-c">//</span> json: String = {"happy":"new year"}</span>

<span class="pl-c"><span class="pl-c">//</span> parse json string into Map[String, Any]</span>
<span class="pl-k">val</span> <span class="pl-en">str</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>{"happy":"new year"}<span class="pl-pds">"""</span></span>
<span class="pl-k">val</span> <span class="pl-en">parsed</span> <span class="pl-k">=</span> parseJson(str)   <span class="pl-c"><span class="pl-c">//</span> parsed: Map[String, Any] = Map(happy -&gt; new year)</span>

<span class="pl-c"><span class="pl-c">//</span> parse json string into a case class</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Foo</span>(<span class="pl-v">happy</span>: <span class="pl-k">String</span>)
<span class="pl-k">val</span> <span class="pl-en">foo</span> <span class="pl-k">=</span> fromJson[<span class="pl-en">Foo</span>](json)  <span class="pl-c"><span class="pl-c">//</span> foo: Foo = Foo(new year)</span></pre>
  </div> 
  <h2><a id="user-content-http-requests" class="anchor" href="https://github.com/kakao/mango#http-requests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><a href="https://github.com/kakao/mango/wiki/HTTP" target="_blank">HTTP Requests</a></h2> 
  <p>Make asynchronous HTTP requests simply.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.kakao.mango.http.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.kakao.mango.concurrent.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">future</span> <span class="pl-k">=</span> <span class="pl-en">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>http://example.com/<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">response</span> <span class="pl-k">=</span> future.sync()
println(response.body) <span class="pl-c"><span class="pl-c">//</span> "&lt;!doctype html&gt;\n&lt;html&gt; ..."</span></pre>
  </div> 
  <h2><a id="user-content-logging" class="anchor" href="https://github.com/kakao/mango#logging" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><a href="https://github.com/kakao/mango/wiki/Logging" target="_blank">Logging</a></h2> 
  <p>Mango logging provides a wrapper of <a href="http://www.slf4j.org/" target="_blank">SLF4j</a> for easier use with Scala. By extending <code>Logging</code>, <code>logger</code> field is available for logging. It also has a quirk to print the source line numbers, using SLF4j markers. </p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.kakao.mango.logging.</span><span class="pl-v">Logging</span>

<span class="pl-k">class</span> <span class="pl-en">AwesomeClass</span> <span class="pl-k">extends</span> <span class="pl-e">AwesomeBaseClass</span> <span class="pl-k">with</span> <span class="pl-e">Logging</span> {
  logger.info(s<span class="pl-s"><span class="pl-pds">"</span>quick brown fox blah blah<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h1><a id="user-content-development" class="anchor" href="https://github.com/kakao/mango#development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development</h1> 
  <h3><a id="user-content-shaded-dependencies" class="anchor" href="https://github.com/kakao/mango#shaded-dependencies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Shaded Dependencies</h3> 
  <p>This project contains shaded version of some libraries that are prone to version conflicts in big projects. They are currently: Jackson (with Scala module), Guava, Netty 3.x, Asynchbase, and AsyncHttpServer. It uses some SBT trick to relocate the classes to <code>com.kakao.shaded</code>.</p> 
  <ul> 
   <li><code>mango-shaded-lib</code> contains the Java dependencies whose classes are relocated using sbt-assembly plugin. The shaded assembly is added as an unmanaged dependency of the <code>mango-shaded</code> subproject.</li> 
   <li><code>mango-shaded</code> contains manually relocated Scala files, which cannot be automatically relocated by sbt-assembly.</li> 
  </ul> 
  <p>Because of the unmanaged dependency, it may be necessary to run the following command before opening this project in an IDE.</p> 
  <pre><code>sbt "+ compile"
</code></pre> 
  <h3><a id="user-content-cross-compilation-and-publishing" class="anchor" href="https://github.com/kakao/mango#cross-compilation-and-publishing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cross Compilation and Publishing</h3> 
  <p>To be compatible with both JRE 1.7 and 1.8, it is required by the build script to use JDK 1.7 while building this project. Set <code>JAVA_HOME</code> accordingly before setting up an IDE or running SBT commands.</p> 
  <p>Since Mango supports both Scala 2.10 and 2.11, it must be cross-complied when publishing:</p> 
  <pre><code># Publishing snapshots
sbt "+ publish"

# Publishing releases 
sbt "release cross"
</code></pre> 
  <p>When publishing snapshots, the <code>+</code> is prepended in the <code>publish</code> command to make SBT to use the <code>crossScalaVersions</code> setting, whereas <code>release cross</code> should be used for publishing releases so that <code>sbt-release-plugin</code> can handle the release cycle.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/kakao/mango#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This software is licensed under the <a href="https://github.com/kakao/mango/blob/master/LICENSE.txt" target="_blank">Apache 2 license</a>, quoted below.</p> 
  <p>Copyright 2017 Kakao Corp. <a href="http://www.kakaocorp.com" target="_blank">http://www.kakaocorp.com</a></p> 
  <p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this project except in compliance with the License. You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">http://www.apache.org/licenses/LICENSE-2.0</a>.</p> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>