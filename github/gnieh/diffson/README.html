<div class="announce instapaper_body markdown" data-path="README.markdown" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-gnieh-diffson---" class="anchor" href="https://github.com/gnieh/diffson#gnieh-diffson---" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Gnieh Diffson <a href="https://travis-ci.org/gnieh/diffson" target="_blank"><img src="https://camo.githubusercontent.com/5db382e9b4fa2efa8c9361bdfaebc901c1cf7eb7/68747470733a2f2f7472617669732d63692e6f72672f676e6965682f64696666736f6e2e706e67" alt="Build Status" data-canonical-src="https://travis-ci.org/gnieh/diffson.png" style="max-width:100%;"></a> <a href="https://codecov.io/github/gnieh/diffson?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/783b02e625cf6729d30c56040ce18979a0f07486/68747470733a2f2f636f6465636f762e696f2f6769746875622f676e6965682f64696666736f6e2f636f7665726167652e7376673f6272616e63683d6d6173746572" alt="Code Coverage" data-canonical-src="https://codecov.io/github/gnieh/diffson/coverage.svg?branch=master" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/org.gnieh/diffson_2.11" target="_blank"><img src="https://camo.githubusercontent.com/5b0dfc677b20789600abed99ed1c5c99764a0da8/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f6f72672e676e6965682f64696666736f6e5f322e31312e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/org.gnieh/diffson_2.11.svg" style="max-width:100%;"></a></h1> 
  <p>A <a href="http://scala-lang.org" target="_blank">scala</a> implementation of the <a href="http://tools.ietf.org/html/rfc6901" target="_blank">RFC-6901</a> and <a href="http://tools.ietf.org/html/rfc6902" target="_blank">RFC-6902</a>. It also provides methods to compute <em>diffs</em> between two Json values that produce valid Json patches.</p> 
  <h2><a id="user-content-table-of-contents" class="anchor" href="https://github.com/gnieh/diffson#table-of-contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of Contents</h2> 
  <ul> 
   <li><a href="https://github.com/gnieh/diffson#getting-started" target="_blank">Getting Started</a></li> 
   <li><a href="https://github.com/gnieh/diffson#json-library" target="_blank">Json Library</a></li> 
   <li><a href="https://github.com/gnieh/diffson#basic-usage" target="_blank">Basic Usage</a></li> 
   <li><a href="https://github.com/gnieh/diffson#remembering-old-values" target="_blank">Remembering old values</a></li> 
   <li><a href="https://github.com/gnieh/diffson#patches-as-collections-of-operations" target="_blank">Patches as Collections of Operations</a></li> 
   <li><a href="https://github.com/gnieh/diffson#technical-details" target="_blank">Technical Details</a></li> 
  </ul> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/gnieh/diffson#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h2> 
  <p>This library is published in the <a href="http://maven.apache.org/" target="_blank">Maven</a> <a href="http://search.maven.org/" target="_blank">Central Repository</a> and is compiled against scala 2.11. You can add it to your sbt project by putting this line to your build description:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.gnieh<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>diffson<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.0.2<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>If you are using maven, add the following dependency to your <code>pom.xml</code>:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;org.gnieh&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;diffson_${scala.version}&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;2.0.2&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <h3><a id="user-content-snapshot-versions" class="anchor" href="https://github.com/gnieh/diffson#snapshot-versions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Snapshot versions</h3> 
  <p>Snapshot versions are published:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.gnieh<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>diffson-spray-json<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0-SNAPSHOT<span class="pl-pds">"</span></span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.gnieh<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>diffson-play-json<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0-SNAPSHOT<span class="pl-pds">"</span></span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.gnieh<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>diffson-circe<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0-SNAPSHOT<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>If you are using maven, add the following dependency to your <code>pom.xml</code>:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;org.gnieh&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;diffson_${scala.version}-play-json&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;2.1.0-SNAPSHOT&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <p>These versions are built for Scala 2.11 and 2.12 when the underlying json library is already published for 2.12.</p> 
  <h2><a id="user-content-json-library" class="anchor" href="https://github.com/gnieh/diffson#json-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Json Library</h2> 
  <p>Diffson was first developped for <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a>, however, it is possible to use it with any json library of your linking. The only requirement is to have a <code>DiffsonInstance</code> for your json library.</p> 
  <p>At the moment, diffson provides two instances for <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a> and <a href="https://www.playframework.com/documentation/latest/ScalaJson" target="_blank">Play! Json</a>. To use these implementations you need to link with the correct module and import the instance:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// spray-json</span>
<span class="pl-k">import</span> <span class="pl-v">gnieh.diffson.sprayJson.</span><span class="pl-v">_</span>
<span class="pl-c">// play-json</span>
<span class="pl-k">import</span> <span class="pl-v">gnieh.diffson.playJson.</span><span class="pl-v">_</span></pre>
  </div> 
  <p>You also need to add the library in your classpath, as they are marked as <code>provided</code> by diffson to avoid depending on all json libraries when using diffson.</p> 
  <p>If you want to add support for your favorite Json library, all you need to do is to implement the <code>gnieh.diffson.DiffsonInstance</code> class, which provide the <code>JsonProvider</code> for the specific library. Contribution of new Json libraries in this repository are more than welcome.</p> 
  <h2><a id="user-content-basic-usage" class="anchor" href="https://github.com/gnieh/diffson#basic-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Basic Usage</h2> 
  <p>Although the library is quite small and easy to use, here comes a summary of its basic usage.</p> 
  <p>There are three different entities living in the <code>gnieh.diffson</code> package:</p> 
  <ul> 
   <li><code>JsonPointer</code> which allows to parse and manipulate Json pointers as defined in <a href="http://tools.ietf.org/html/rfc6901" target="_blank">RFC-6901</a>,</li> 
   <li><code>JsonPatch</code> which allows to parse, create and apply Json patches as defined in <a href="http://tools.ietf.org/html/rfc6902" target="_blank">RFC-6902</a>,</li> 
   <li><code>JsonDiff</code> which allows to compute the diff between two Json values and create Json patches.</li> 
  </ul> 
  <p>Basically if one wants to compute the diff between two Json objects, on can execute the following:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">json1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>{</span>
<span class="pl-s">              |  "a": 1,</span>
<span class="pl-s">              |  "b": true,</span>
<span class="pl-s">              |  "c": "test"</span>
<span class="pl-s">              |}<span class="pl-pds">"""</span></span>.stripMargin

<span class="pl-k">val</span> <span class="pl-en">json2</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>{</span>
<span class="pl-s">              |  "a": 6,</span>
<span class="pl-s">              |  "c": "test2",</span>
<span class="pl-s">              |  "d": false</span>
<span class="pl-s">              |}<span class="pl-pds">"""</span></span>.stripMargin

<span class="pl-k">val</span> <span class="pl-en">patch</span> <span class="pl-k">=</span> <span class="pl-en">JsonDiff</span>.diff(json1, json2, <span class="pl-c1">false</span>)

println(patch)</pre>
  </div> 
  <p>which will print the following in the console:</p> 
  <div class="highlight highlight-source-json">
   <pre>[{
  <span class="pl-s"><span class="pl-pds">"</span>op<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>replace<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>/a<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>:<span class="pl-c1">6</span>
},{
  <span class="pl-s"><span class="pl-pds">"</span>op<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>remove<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>/b<span class="pl-pds">"</span></span>
},{
  <span class="pl-s"><span class="pl-pds">"</span>op<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>replace<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>/c<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>
},{
  <span class="pl-s"><span class="pl-pds">"</span>op<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>add<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>/d<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>:<span class="pl-c1">false</span>
}]</pre>
  </div> 
  <p>You can then apply the patch to <code>json1</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">json3</span> <span class="pl-k">=</span> patch(json1)
println(json3)</pre>
  </div> 
  <p>which prints something like:</p> 
  <div class="highlight highlight-source-json">
   <pre>{
  <span class="pl-s"><span class="pl-pds">"</span>d<span class="pl-pds">"</span></span>:<span class="pl-c1">false</span>,
  <span class="pl-s"><span class="pl-pds">"</span>c<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>:<span class="pl-c1">6</span>
}</pre>
  </div> 
  <p>which we can easily verify is the same as <code>json2</code> modulo reordering of fields.</p> 
  <p>You may also only want to apply existing patches:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">raw</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>[</span>
<span class="pl-s">            |  {</span>
<span class="pl-s">            |    "op": "test",</span>
<span class="pl-s">            |    "path": "/a",</span>
<span class="pl-s">            |    "value": 4</span>
<span class="pl-s">            |  }</span>
<span class="pl-s">            |]<span class="pl-pds">"""</span></span>.stripMargin

<span class="pl-k">val</span> <span class="pl-en">patch</span> <span class="pl-k">=</span> <span class="pl-en">JsonPatch</span>.parse(raw)

<span class="pl-k">val</span> <span class="pl-en">json1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>{ "a": 4 }<span class="pl-pds">"""</span></span>
<span class="pl-k">val</span> <span class="pl-en">json2</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>{ "a": 7 }<span class="pl-pds">"""</span></span>
patch(json1) <span class="pl-c">// ok json1 is returned unchanched</span>
patch(json2) <span class="pl-c">// throws PatchException</span></pre>
  </div> 
  <h2><a id="user-content-remembering-old-values" class="anchor" href="https://github.com/gnieh/diffson#remembering-old-values" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Remembering old values</h2> 
  <p>The <code>diff</code> method takes three parameter. The third one indicates whether the generated patch remembers removed and replaced values. When set to <code>true</code>, the <code>Replace</code> and <code>Remove</code> operations take an extra field named <code>old</code> giving the old value. The RFC does not define these fields, but it does not fordbid either to add extra fields. Hence, generated patches can still be interpreted by third party implementations.</p> 
  <h2><a id="user-content-patches-as-collections-of-operations" class="anchor" href="https://github.com/gnieh/diffson#patches-as-collections-of-operations" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Patches as Collections of Operations</h2> 
  <p>Patches may be seen as collections of operations on which you may which to apply some typical collection functions such as <code>map</code>, <code>flatMap</code>, filtering, folding, ...</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">patch</span><span class="pl-k">:</span> <span class="pl-en">JsonPatch</span> <span class="pl-k">=</span> ...

<span class="pl-k">val</span> <span class="pl-en">patch2</span><span class="pl-k">:</span> <span class="pl-en">JsonPatch</span> <span class="pl-k">=</span>
  <span class="pl-k">for</span>(op <span class="pl-k">@</span> <span class="pl-en">Add</span>(<span class="pl-s"><span class="pl-pds">"</span>my<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>prefix<span class="pl-pds">"</span></span> <span class="pl-k">::</span> _, _) <span class="pl-k">&lt;</span><span class="pl-k">-</span> patch)
    <span class="pl-k">yield</span> op</pre>
  </div> 
  <h2><a id="user-content-technical-details" class="anchor" href="https://github.com/gnieh/diffson#technical-details" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Technical Details</h2> 
  <p>The implementation uses <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a> to manipulate Json objects.</p> 
  <p>The <em>diff</em> between two arrays is computed by using the <a href="http://alfedenzo.livejournal.com/170301.html" target="_blank">Patience Diff</a> algorithm to compute the <a href="https://en.wikipedia.org/wiki/Longest_common_subsequence_problem" target="_blank">LCS</a> between both arrays, which is quite simple to implement.</p> 
  <p>However one can replace the implementation by any other algorithm that implements the <code>gnieh.diffson.Lcs</code> trait, e.g.:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">diff</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">JsonDiff</span>(<span class="pl-k">new</span> <span class="pl-en">MyLcsAlgorithm)</span></pre>
  </div> 
  <p>then use <code>diff</code> in lieu of <code>JsonDiff</code> in the first usage example.</p> 
 </article>
</div>