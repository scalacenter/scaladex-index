<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/typesafehub/sbt-conductr#sbt-conductr" aria-hidden="true" class="anchor" id="user-content-sbt-conductr" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-conductr</h1> 
  <p><a href="https://github.com/typesafehub/sbt-conductr/releases" target="_blank"><img src="https://camo.githubusercontent.com/72314a9407e36617093343459f8ddbd5b51fb9b8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f76657273696f6e2d322e342e302d626c75652e737667" alt="GitHub version" data-canonical-src="https://img.shields.io/badge/version-2.4.0-blue.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/typesafehub/sbt-conductr" target="_blank"><img src="https://camo.githubusercontent.com/c7cec9c65b76b8bca41753b67d53bca935d26341/68747470733a2f2f6170692e7472617669732d63692e6f72672f74797065736166656875622f7362742d636f6e64756374722e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://api.travis-ci.org/typesafehub/sbt-conductr.png?branch=master" style="max-width:100%;"></a></p> 
  <p>sbt-conductr is an sbt plugin that provides commands in sbt to:</p> 
  <ul> 
   <li>Produce a ConductR bundle (a bundle contains everything required to run your service, including your service itself)</li> 
   <li>Start and stop a local ConductR cluster</li> 
   <li>Manage a ConductR cluster within a sbt session</li> 
  </ul> 
  <h2><a href="https://github.com/typesafehub/sbt-conductr#table-of-contents" aria-hidden="true" class="anchor" id="user-content-table-of-contents" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of contents</h2> 
  <ul> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#prerequisite" target="_blank">Prerequisite</a></li> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#setup" target="_blank">Setup</a></li> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#plugin-overview" target="_blank">Plugin Overview</a></li> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#command-overview" target="_blank">Command Overview</a></li> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#conductr-plugin" target="_blank">ConductR Plugin</a></li> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#bundle-plugins" target="_blank">Bundle Plugins</a></li> 
   <li><a href="https://github.com/typesafehub/sbt-conductr#developers" target="_blank">Developers</a></li> 
  </ul> 
  <h2><a href="https://github.com/typesafehub/sbt-conductr#prerequisite" aria-hidden="true" class="anchor" id="user-content-prerequisite" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Prerequisite</h2> 
  <ul> 
   <li><a href="https://www.docker.com/" target="_blank">Docker</a> (when using Docker based bundles)</li> 
   <li><a href="http://conductr.lightbend.com/docs/2.0.x/CLI" target="_blank">conductr-cli</a> (used to manage the ConductR cluster)</li> 
  </ul> 
  <h2><a href="https://github.com/typesafehub/sbt-conductr#setup" aria-hidden="true" class="anchor" id="user-content-setup" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <p>Add sbt-conductr to your <code>project/plugins.sbt</code> (all versions of Akka, Play and Lagom 1.3 onward):</p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.lightbend.conductr<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-conductr<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.4.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>If your project is using Lagom 1.2.x or prior please use:</p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.lightbend.conductr<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-conductr<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.2.9<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>In the context of Play or Lagom you should ensure that plugins are enabled as follows:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Project</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>Lagom Java 1.3.x</td> 
     <td><code>lazy val myService = (project in file(".")).enablePlugins(LagomJava)</code></td> 
    </tr> 
    <tr> 
     <td>Lagom Scala 1.3.x</td> 
     <td><code>lazy val myService = (project in file(".")).enablePlugins(LagomScala)</code></td> 
    </tr> 
    <tr> 
     <td>Play Java in Lagom</td> 
     <td><code>lazy val myService = (project in file(".")).enablePlugins(LagomPlay)</code></td> 
    </tr> 
    <tr> 
     <td>Play Scala 2.4+</td> 
     <td><code>lazy val root = (project in file(".")).enablePlugins(PlayScala)</code></td> 
    </tr> 
    <tr> 
     <td>Play Java 2.4+</td> 
     <td><code>lazy val root = (project in file(".")).enablePlugins(PlayJava)</code></td> 
    </tr>
   </tbody>
  </table> 
  <p>For anything else:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">root</span> <span class="pl-k">=</span> (project in file(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>)).enablePlugins(<span class="pl-en">JavaAppPackaging</span>)</pre>
  </div> 
  <h2><a href="https://github.com/typesafehub/sbt-conductr#command-overview" aria-hidden="true" class="anchor" id="user-content-command-overview" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Command Overview</h2> 
  <p>The following <code>sbt-conductr</code> tasks are available:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Task</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>bundle:dist</td> 
     <td>Produce a ConductR bundle for all projects that have the native packager enabled</td> 
    </tr> 
    <tr> 
     <td>configuration:dist</td> 
     <td>Produce a bundle configuration for all projects that have the native packager enabled</td> 
    </tr> 
    <tr> 
     <td>sandbox</td> 
     <td>Manage the ConductR sandbox in order to run clusters locally</td> 
    </tr> 
    <tr> 
     <td>conduct</td> 
     <td>Interact with ConductR</td> 
    </tr> 
    <tr> 
     <td>install</td> 
     <td>Generates an installation script and then installs all of your projects to the local ConductR sandbox (expected to be running)</td> 
    </tr>
   </tbody>
  </table> 
  <p>Type <code>sandbox -h</code> and <code>conduct -h</code> in order to explore the full functionality offered by these commands. In summary, these commands invoke the ConductR CLI directly from sbt and avoid you having to exit any interactive sbt session.</p> 
  <p>The following sections illustrate how some of these commands can be used.</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#starting-a-conductr-cluster" aria-hidden="true" class="anchor" id="user-content-starting-a-conductr-cluster" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Starting a ConductR cluster</h3> 
  <p>To start a ConductR cluster on your local machine use:</p> 
  <div class="highlight highlight-text-shell-session">
   <pre><span class="pl-c1">sandbox run &lt;CONDUCTR_VERSION&gt;</span></pre>
  </div> 
  <p>Visit the <a href="https://www.lightbend.com/product/conductr/developer" target="_blank">ConductR Developer page</a> to pick up the latest ConductR version from the section <strong>Quick Configuration</strong>.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#features" aria-hidden="true" class="anchor" id="user-content-features" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h4> 
  <p>The sandbox contains handy features which can be optionally enabled during startup by specifying the <code>--feature</code> option, e.g.:</p> 
  <div class="highlight highlight-text-shell-session">
   <pre><span class="pl-c1">sandbox run &lt;CONDUCTR_VERSION&gt; --feature visualization</span></pre>
  </div> 
  <p>The following features are available:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Name</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>logging</td> 
     <td>Out-of-the-box the sandbox starts a simple logging service called <code>eslite</code>. This service is automatically enabled without specifying the <code>logging</code> feature. This in-memory logging service only captures the log messages within one node. In case you want to retrieve log messages from multiple nodes use the <code>logging</code> feature. This will start an Elasticsearch and Kibana service. The Elasticsearch service will capture the stdout and sterr output of your services. To display the log messages use either the <code>conduct logs</code> command or the Kibana UI on port 5601.</td> 
    </tr> 
    <tr> 
     <td>monitoring</td> 
     <td>Enables Lightbend Monitoring for your bundles.</td> 
    </tr> 
    <tr> 
     <td>visualization</td> 
     <td>Provides a web interface to visualize the ConductR cluster together with the deployed running bundles.</td> 
    </tr>
   </tbody>
  </table> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#stopping-a-cluster" aria-hidden="true" class="anchor" id="user-content-stopping-a-cluster" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Stopping a cluster</h3> 
  <p>To stop the ConductR sandbox use:</p> 
  <pre><code>sandbox stop
</code></pre> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#installing-your-project" aria-hidden="true" class="anchor" id="user-content-installing-your-project" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installing your project</h3> 
  <p>The <code>install</code> command will introspect your project and its sub-projects and then load and run everything in ConductR at once. The local sandbox is expected to be running and it will first be restarted to ensure that it is in a clean state.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#generating-an-installation-script" aria-hidden="true" class="anchor" id="user-content-generating-an-installation-script" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generating an installation script</h4> 
  <p>Just like the <code>install</code> command, the <code>generateInstallationScript</code> command also introspects your project but then writes what is required to load and run everything to a script. The command will output the location of the generated script once done. You are encouraged to copy this script and use it as the basis of installing your project for production deployments.</p> 
  <p>You can run the script as many times as you need; ConductR load and run commands are idempotent thus allowing you to conveniently load and run any individual components that have stopped for some reason.</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#retrieving-bundle-state" aria-hidden="true" class="anchor" id="user-content-retrieving-bundle-state" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Retrieving bundle state</h3> 
  <p>To check the status of your bundles use:</p> 
  <div class="highlight highlight-text-shell-session">
   <pre><span class="pl-c1">conduct info</span></pre>
  </div> 
  <p>To inspect a bundle's full configuration use:</p> 
  <div class="highlight highlight-text-shell-session">
   <pre><span class="pl-c1">conduct info &lt;my-bundle&gt;</span></pre>
  </div> 
  <p>...where <code>&lt;my-bundle&gt;</code> is the identity of your bundle (a bundle id or name).</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#generating-and-loading-bundles" aria-hidden="true" class="anchor" id="user-content-generating-and-loading-bundles" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generating and loading bundles</h3> 
  <p>To load a bundle to the ConductR cluster, first generate one if you have not done so already (<code>install</code> will generate one). Ensure that you're in the sub-project that you want to generate a bundle for:</p> 
  <pre><code>project my-sub-project
</code></pre> 
  <p>SBT TIP: type <code>projects</code> to list your sub-projects, or type <code>project &lt;HIT THE TAB KEY&gt;</code>.</p> 
  <p>...then generate your sub-project's bundle:</p> 
  <pre><code>bundle:dist
</code></pre> 
  <p>You are now ready to load your bundle:</p> 
  <pre><code>conduct load &lt;HIT THE TAB KEY AND THEN RETURN&gt;
</code></pre> 
  <p>Using the tab completion feature of sbt will produce a URI representing the location of the last produced bundle within the sbt project. In the context of a multi sbt project it is possible that multiple bundles, each per sub project, has been created. In order to use the tab completion it is then necessary to first switch to the sub project and then use <code>conduct load</code>.</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#running-bundles" aria-hidden="true" class="anchor" id="user-content-running-bundles" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running bundles</h3> 
  <p>To start a bundle in the cluster use:</p> 
  <pre><code>conduct run &lt;my-bundle&gt;
</code></pre> 
  <p>This will start the bundle on one instance. To scale it to several instances use the <code>--scale</code> option:</p> 
  <pre><code>conduct run --scale 3 &lt;my-bundle&gt;
</code></pre> 
  <p>As the bundle name you can either use the bundle id or bundle name. Also the name specified doesn't need to exactly match to the name of the bundle. The specified name only needs to be unqiue within the ConductR cluster. So in case you want to run the bundle <code>this-is-a-very-long-bundle-name</code> you can just type:</p> 
  <pre><code>conduct run t
</code></pre> 
  <p>If multiple bundles with a starting <code>t</code> exist then the command is aborted and an error message is displayed.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#tags" aria-hidden="true" class="anchor" id="user-content-tags" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Tags</h4> 
  <p>Tags are an array of strings that can be used to further qualify a bundle name. Tags are often represented as versions e.g. "1.0.0-beta.1", "version1"" etc. By default we use your project's version. Taking the above <code>run</code> example further, we can express a tag by using a <code>:</code> to delimit it with a name:</p> 
  <pre><code>conduct run &lt;my-bundle&gt;:&lt;my-tag&gt;
</code></pre> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#more-info" aria-hidden="true" class="anchor" id="user-content-more-info" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>More info</h4> 
  <p>To get an overview of all available <code>conduct run</code> options use:</p> 
  <pre><code>sandbox run --help
</code></pre> 
  <p>Note that all sub-commands offer help.</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#stopping-bundles" aria-hidden="true" class="anchor" id="user-content-stopping-bundles" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Stopping bundles</h3> 
  <p>Use the <code>stop</code> command to stop a bundle:</p> 
  <div class="highlight highlight-text-shell-session">
   <pre><span class="pl-c1">conduct stop &lt;my-bundle&gt;</span></pre>
  </div> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#retrieve-log-messages-of-a-bundle" aria-hidden="true" class="anchor" id="user-content-retrieve-log-messages-of-a-bundle" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Retrieve log messages of a bundle</h3> 
  <p>To retrieve log messages of a bundle use:</p> 
  <pre><code>conduct logs &lt;my-bundle&gt;
</code></pre> 
  <h2><a href="https://github.com/typesafehub/sbt-conductr#bundle-plugins" aria-hidden="true" class="anchor" id="user-content-bundle-plugins" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Bundle Plugins</h2> 
  <p>By definition, a bundle is a package of one or more components and has metadata describing them all. Bundle metadata includes the name of your bundle, tags, resource requirements, proxying requirements and more.</p> 
  <p>A bundle typically has just one component which is your service, although it may have more than one component. The general idea of a bundle is that it is entirely self-contained i.e. ConductR does not need to solicit any more information or data regarding your service to invoke it at runtime. This approach permits ConductR to start your services quickly and reliably given that very few network interactions are required.</p> 
  <p>The bundle plugin produces ConductR bundles and bundle configurations. sbt-conductr contains several bundle plugin. One of the bundle plugin gets used for your project. Check out the <a href="https://github.com/typesafehub/sbt-conductr#plugin-overview" target="_blank">Plugin Overview</a> section for more information.</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#producing-a-bundle" aria-hidden="true" class="anchor" id="user-content-producing-a-bundle" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Producing a bundle</h3> 
  <p>To recap, produce a bundle by using the following command within your sub-project:</p> 
  <div class="highlight highlight-text-shell-session">
   <pre><span class="pl-c1">bundle:dist</span></pre>
  </div> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#scheduling-parameters" aria-hidden="true" class="anchor" id="user-content-scheduling-parameters" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scheduling parameters</h3> 
  <p>A service needs to provide ConductR scheduling parameters to produce a bundle successfully. These parameters effectively describe what resources are used by your service and are used to determine which machine they will run on.</p> 
  <p><a href="https://github.com/typesafehub/sbt-conductr/blob/master/src/main/scala/com/lightbend/conductr/sbt/PlayBundlePlugin.scala" target="_blank">Play</a> and <a href="https://github.com/typesafehub/sbt-conductr/blob/master/src/main/scala/com/lightbend/conductr/sbt/LagomBundlePlugin.scala" target="_blank">Lagom</a> bundle plugins provide default scheduling parameters. For any other service it is mandatory to specify them, otherwise the <code>bundle:dist</code> command will fail.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#defaults" aria-hidden="true" class="anchor" id="user-content-defaults" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Defaults</h4> 
  <p><strong>Play</strong></p> 
  <ul> 
   <li>Heap Memory: 128 MiB</li> 
   <li>Resident Memory: 384 MiB</li> 
   <li>Cpus: 0.1</li> 
   <li>Disk space: 200 MB</li> 
  </ul> 
  <p><strong>Lagom</strong></p> 
  <ul> 
   <li>Heap Memory: 128 MiB</li> 
   <li>Resident Memory: 384 MiB</li> 
   <li>Cpus: 0.1</li> 
   <li>Disk space: 200 MB</li> 
  </ul> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#set-custom-scheduling-parameters" aria-hidden="true" class="anchor" id="user-content-set-custom-scheduling-parameters" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Set custom scheduling parameters</h4> 
  <p>If the above parameters are inappropriate or you are not using Play or Lagom then we recommend starting with the following custom scheduling parameters in your project's <code>build.sbt</code> e.g.:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">ByteConversions.</span><span class="pl-v">_</span>

javaOptions in <span class="pl-en">Universal</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>-J-Xmx128m<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>-J-Xms128m<span class="pl-pds">"</span></span>
)

<span class="pl-en">BundleKeys</span>.nrOfCpus <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">0.1</span>
<span class="pl-en">BundleKeys</span>.memory <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">384.</span><span class="pl-en">MiB</span>
<span class="pl-en">BundleKeys</span>.diskSpace <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">200.</span><span class="pl-en">MB</span></pre>
  </div> 
  <p>The <code>javaOptions</code> values declare the maximum and minimum heap size for your application respectively. Profiling your application under load will help you determine an optimal heap size. We recommend declaring the <code>BundleKeys.memory</code> value to be at least 384 MiB noting that this represents the <em>resident</em> memory size of your service. Resident memory includes the heap, thread stacks, code caches, the code itself and so forth. On Unix, use the <code>top</code> command and observe the resident memory column (<code>RES</code>) with your application under load.</p> 
  <p><code>BundleKeys.memory</code> is used for locating machines with enough resources to run your application, and so it is particularly important to size it before you go to production. Not setting this value correctly can lead to your bundle being killed by the operating system.</p> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#bundle-configuration" aria-hidden="true" class="anchor" id="user-content-bundle-configuration" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Bundle configuration</h3> 
  <p>It is possible to produce additional configuration bundles that contain an optional <code>bundle.conf</code> to override the main bundle, as well as arbitrary shell scripts. These additional configuration files must be placed in your project's src/bundle-configuration/default folder. Note that configuration bundles can also be declared using settings (explained <a href="https://github.com/typesafehub/sbt-conductr#extending-bundle-configurations" target="_blank">later</a>).</p> 
  <p>The bundle-configuration folder may contain many configurations in order to support development style scenarios, the desired configuration can be specified with the setting ("default" is the default folder name) in the <code>build.sbt</code>:</p> 
  <pre><code>BundleKeys.configurationName := "default"
</code></pre> 
  <p>Then, to produce this additional bundle execute:</p> 
  <pre><code>configuration:dist
</code></pre> 
  <blockquote> 
   <p>Note that bundle configuration that is generally performed from within sbt is therefore part of the project to support developer use-cases. Operational use-cases where sensitive data is held in configuration is intended to be performed outside of sbt, and in conjunction with the <a href="https://github.com/typesafehub/conductr-cli#command-line-interface-cli-for-typesafe-conductr" target="_blank">ConductR CLI</a> (specifically the <code>shazar</code> command).</p> 
  </blockquote> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#advanced-bundles-and-configuration" aria-hidden="true" class="anchor" id="user-content-advanced-bundles-and-configuration" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Advanced bundles and configuration</h3> 
  <p>sbt-conductr is capable of producing many bundles and bundle configurations for a given sbt module.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#adding-start-command-options" aria-hidden="true" class="anchor" id="user-content-adding-start-command-options" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Adding Start command options</h4> 
  <p>Use the <code>BundleKeys.startCommand</code> to add additional options to the start command. Let's say you are using a Play application and want to specify a custom application secret then the option to the <code>BundleKeys.startCommand</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">BundleKeys</span>.startCommand <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>-Dplay.crypto.secret=dontsharethiskey<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Note that memory heap is controlled by the memory BundleKey and heap flags should not be passed here.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#renaming-an-executable" aria-hidden="true" class="anchor" id="user-content-renaming-an-executable" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Renaming an executable</h4> 
  <p>Sometimes you need to invoke something other than the script that the native packager assumes. For example, if you have a script in the bin folder named <code>start.sh</code>, and it isn't expecting any Java options:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">BundleKeys</span>.executableScriptPath in <span class="pl-en">Bundle</span> <span class="pl-k">:</span><span class="pl-k">=</span> (file((normalizedName in <span class="pl-en">Bundle</span>).value) <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>bin<span class="pl-pds">"</span></span> <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>start.sh<span class="pl-pds">"</span></span>).getPath
javaOptions in <span class="pl-en">Bundle</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>.empty</pre>
  </div> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#extending-bundles" aria-hidden="true" class="anchor" id="user-content-extending-bundles" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Extending bundles</h4> 
  <p>Suppose that you have an sbt module where there are multiple ways in which it can be produced. <a href="https://github.com/typesafehub/ReactiveMaps" target="_blank">ReactiveMaps</a> is one such example where the one application can be deployed in three ways:</p> 
  <ul> 
   <li>frontend</li> 
   <li>backend-region</li> 
   <li>backend-summary</li> 
  </ul> 
  <p>Its frontend configuration is expressed in the regular way i.e. within the global scope:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Main bundle configuration</span>

normalizedName <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>reactive-maps-frontend<span class="pl-pds">"</span></span>
<span class="pl-en">BundleKeys</span>.nrOfCpus <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">0.1</span>
...</pre>
  </div> 
  <p>Thus a regular <code>bundle:dist</code> will produce the frontend bundle.</p> 
  <p>We can then extend the bundle configuration and overlay some new values for a different target. Here's a sample of what the backend-region target looks like:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">BackendRegion</span> <span class="pl-k">=</span> config(<span class="pl-s"><span class="pl-pds">"</span>backend-region<span class="pl-pds">"</span></span>).extend(<span class="pl-en">Bundle</span>)
<span class="pl-en">BundlePlugin</span>.bundleSettings(<span class="pl-en">BackendRegion</span>)
inConfig(<span class="pl-en">BackendRegion</span>)(<span class="pl-en">Seq</span>(
  normalizedName <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>reactive-maps-backend-region<span class="pl-pds">"</span></span>,
  <span class="pl-en">BundleKeys</span>.configurationName <span class="pl-k">:</span><span class="pl-k">=</span> (normalizedName in <span class="pl-en">BackendRegion</span>).value,
  ...
))</pre>
  </div> 
  <p>A new configuration is created that extends the regular <code>Bundle</code> one for the purposes of delegating sbt settings. Therefore anything declared within the <code>inConfig</code> function will have precedence over that which is declared in the <code>Bundle</code> sbt configuration. The <code>bundleSettings</code> function defines a few important settings that you need.</p> 
  <p>To produce the above bundle then becomes a matter of just <code>backend-region:dist</code>.</p> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#extending-bundle-configurations" aria-hidden="true" class="anchor" id="user-content-extending-bundle-configurations" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Extending bundle configurations</h4> 
  <p>The optional <code>bundle.conf</code> file can either be provided directly, or be generated via sbt settings. The following shows how to create an sbt configuration and then define <code>bundle.conf</code> settings. The settings are for a fictitious <code>backend</code> configuration that overrides the bundle name and the roles:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">Backend</span> <span class="pl-k">=</span> config(<span class="pl-s"><span class="pl-pds">"</span>backend<span class="pl-pds">"</span></span>).extend(<span class="pl-en">BundleConfiguration</span>)
<span class="pl-en">BundlePlugin</span>.configurationSettings(<span class="pl-en">Backend</span>)
inConfig(<span class="pl-en">Backend</span>)(<span class="pl-en">Seq</span>(
  normalizedName <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>reactive-maps-backend<span class="pl-pds">"</span></span>,
  roles <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>big-backend-server<span class="pl-pds">"</span></span>)
))</pre>
  </div> 
  <p>Note the distinction between the <code>configurationSettings</code> and <code>bundleSettings</code> for bundle configurations and bundles respectively.</p> 
  <p>You must also associate the configuration with your project:</p> 
  <pre><code>lazy val root = (project in file("."))
  .enablePlugins(JavaAppPackaging)
  .configs(Backend)
</code></pre> 
  <p>A configuration for the above can then be generated:</p> 
  <pre><code>backend:dist
</code></pre> 
  <h3><a href="https://github.com/typesafehub/sbt-conductr#bundle-settings" aria-hidden="true" class="anchor" id="user-content-bundle-settings" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Bundle settings</h3> 
  <p>The following bundle settings are provided under the <code>BundleKeys</code> object:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Name</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>annotations</td> 
     <td>An optional <a href="https://github.com/typesafehub/config/blob/master/HOCON.md" target="_blank">HOCON</a> string representing additional metadata that you may wish to associate with a bundle. An example is provided below. Key names should be in accordance with the <a href="https://github.com/opencontainers/image-spec/blob/master/annotations.md" target="_blank">OCI image annotation</a> conventions. Annotations default to None.</td> 
    </tr> 
    <tr> 
     <td>bundleConf</td> 
     <td>The bundle configuration file contents</td> 
    </tr> 
    <tr> 
     <td>bundleConfVersion</td> 
     <td>The version of the bundle.conf file. By default this is 1.</td> 
    </tr> 
    <tr> 
     <td>bundleType</td> 
     <td>The type of configuration that this bundling relates to. By default Universal is used.</td> 
    </tr> 
    <tr> 
     <td>checkInitialDelay</td> 
     <td>Initial delay before the check uris are triggered. The <code>FiniteDuration</code> value gets rounded up to full seconds. Default is 3 seconds.</td> 
    </tr> 
    <tr> 
     <td>checks</td> 
     <td>Declares uris to check to signal to ConductR that the bundle components have started for situations where component doesn't do that. For example <code>Seq(uri("$WEB_HOST"))</code> will check that a endpoint named "web" will be checked given its host environment var e.g. <code>http://192.168.10.1:10773</code> (for a complete reference of ConductR environment variables, please visit <a href="http://conductr.lightbend.com/docs/2.0.x/BundleEnvironmentVariables" target="_blank">ConductR's documentation</a>). Once that URL becomes available then ConductR will be signalled that the bundle is ready. Note that a <code>docker+</code> prefix should be used when waiting on Docker components so that the Docker build event is waited on e.g. <code>Seq(uri("docker+$WEB_HOST"))</code><br>Optional params are: 'retry-count': Number of retries, 'retry-delay': Delay in seconds between retries, 'docker-timeout': Timeout in seconds for docker container start. For example: <code>Seq(uri("$WEB_HOST?retry-count=5&amp;retry-delay=2"))</code>.</td> 
    </tr> 
    <tr> 
     <td>compatibilityVersion</td> 
     <td>A versioning scheme that will be associated with a bundle that describes the level of compatibility with the bundle that went before it. ConductR can use this property to reason about the compatibility of one bundle to another given the same bundle name. By default we take the major version component of a project version where major is defined by [<a href="http://semver.org/" target="_blank">http://semver.org/</a>]. However you can make this mean anything that you need it to mean in relation to the bundle produced prior to it. We take the notion of a compatibility version from [<a href="http://ometer.com/parallel.html]." target="_blank">http://ometer.com/parallel.html].</a>"</td> 
    </tr> 
    <tr> 
     <td>conductrTargetVersion</td> 
     <td>The version of ConductR to that this bundle can be deployed on. During bundle creation a compatibility check is made whether this bundle can be deployed on the specified ConductR version. Defaults to 2.0.</td> 
    </tr> 
    <tr> 
     <td>configurationName</td> 
     <td>The name of the directory of the additional configuration to use. Defaults to 'default'</td> 
    </tr> 
    <tr> 
     <td>diskSpace</td> 
     <td>The amount of disk space required to host an expanded bundle and configuration. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. Required.</td> 
    </tr> 
    <tr> 
     <td>enableAcls</td> 
     <td>Acls can be declared on an endpoint if this setting is 'true'. Otherwise, only service endpoints can be declared. Endpoint acls can be used from ConductR 2.0 onwards. Therefore, the default in ConductR 1.1- is 'false' and in ConductR 2.0+ 'true'.</td> 
    </tr> 
    <tr> 
     <td>endpoints</td> 
     <td>Declares endpoints. The default is Map("web" -&gt; Endpoint("http", 0, Set.empty)). The endpoint key is used to form a set of environment variables for your components, e.g. for the endpoint key "web" ConductR creates the environment variable <code>WEB_BIND_PORT</code>.</td> 
    </tr> 
    <tr> 
     <td>executableScriptPath</td> 
     <td>The relative path of the executableScript within the bundle.</td> 
    </tr> 
    <tr> 
     <td>memory</td> 
     <td>The amount of resident memory required to run the bundle. Use the Unix <code>top</code> command to determine this value by observing the <code>RES</code> and rounding up to the nearest 10MiB.</td> 
    </tr> 
    <tr> 
     <td>minMemoryCheckValue</td> 
     <td>The minimum value for the <code>memory</code> setting that is checked when creating a bundle. Defaults to 384MiB.</td> 
    </tr> 
    <tr> 
     <td>nrOfCpus</td> 
     <td>The minimum number of cpus required to run the bundle (can be fractions thereby expressing a portion of CPU). This value is considered when starting a bundle on a node. If the specified CPUs exceeds the available CPUs on a node, then this node is not considered for scaling the bundle. Once running, the application is not restricted to the given value and tries to use all available CPUs on the node. Required.</td> 
    </tr> 
    <tr> 
     <td>overrideEndpoints</td> 
     <td>Overrides the endpoints settings key with new endpoints. This task should be used if the endpoints need to be specified programmatically. The default is None.</td> 
    </tr> 
    <tr> 
     <td>roles</td> 
     <td>The types of node in the cluster that this bundle can be deployed to. Defaults to "web".</td> 
    </tr> 
    <tr> 
     <td>startCommand</td> 
     <td>Command line args required to start the component. Paths are expressed relative to the component's bin folder. The default is to use the bash script in the bin folder. <br> Example JVM component: <br> <code>BundleKeys.startCommand += "-Dakka.cluster.roles.1=frontend"</code> <br> Example Docker component (should additional args be required): <br> <code>BundleKeys.startCommand += "dockerArgs -v /var/lib/postgresql/data:/var/lib/postgresql/data"</code> (this adds arguments to <code>docker run</code>). Note that memory heap is controlled by the BundleKeys.memory key and heap flags should not be passed here.</td> 
    </tr> 
    <tr> 
     <td>system</td> 
     <td>A logical name that can be used to associate multiple bundles with each other. This could be an application or service association and should include a version e.g. myapp-1.0.0. Defaults to the package name.</td> 
    </tr> 
    <tr> 
     <td>systemVersion</td> 
     <td>A version to associate with a system. This setting defaults to the value of compatibilityVersion.</td> 
    </tr> 
    <tr> 
     <td>tags</td> 
     <td>An array of strings that can be used to further qualify a bundle name. Just as with a name, these strings are intended for human consumption and ConductR makes no assumptions about their value - see "compatibilityVersion" for semantically relevant versioning. Tags are often represented as versions e.g. "1.0.0-beta.1", "version1"" etc. By default we use the project version.</td> 
    </tr>
   </tbody>
  </table> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#hocon" aria-hidden="true" class="anchor" id="user-content-hocon" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>HOCON</h4> 
  <p><a href="https://github.com/typesafehub/config/blob/master/HOCON.md" target="_blank">HOCON</a> is an alternative to JSON that should provides some nice extensions. To illustrate, here are some annotations declared:</p> 
  <pre><code>BundleKeys.annotations := Some(
  """
    |{
    |  com.mycompany {
    |    reference-id = "124f534as"
    |    zones = ["us-east", "us-west"]
    |  }
    |}
  """.stripMargin)
</code></pre> 
  <h2><a href="https://github.com/typesafehub/sbt-conductr#plugin-developers" aria-hidden="true" class="anchor" id="user-content-plugin-developers" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Plugin Developers</h2> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#running-unit-tests" aria-hidden="true" class="anchor" id="user-content-running-unit-tests" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running unit tests</h4> 
  <pre><code># Run all tests
sbt test

# Run a single test
sbt test-only com.lightbend.conductr.sbt.BundlePluginSpec
</code></pre> 
  <h4><a href="https://github.com/typesafehub/sbt-conductr#running-scripted-tests" aria-hidden="true" class="anchor" id="user-content-running-scripted-tests" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running scripted tests</h4> 
  <pre><code># bash - Run all tests
sbt scripted

# bash - Run a single test
sbt "scripted sbt-conductr/conduct-common-args"

# sbt - Interactive test output
set scriptedBufferLog := false
scripted sbt-conductr/conduct-common-args
</code></pre> 
  <p> Lightbend Inc., 2014-2017</p> 
 </article>
</div>