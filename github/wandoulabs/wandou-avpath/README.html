<div class="announce instapaper_body rst" data-path="README.rst" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-avpath" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#avpath" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>avpath</h1> 
  <p>XPath likeness for Avro</p> 
  <a href="https://travis-ci.org/wandoulabs/avpath" target="_blank"><img alt="avpath build status" src="https://camo.githubusercontent.com/7b85381f525e8ced3b8b5d36322ffa3039e85c64/68747470733a2f2f7472617669732d63692e6f72672f77616e646f756c6162732f6176706174682e706e67" data-canonical-src="https://travis-ci.org/wandoulabs/avpath.png" style="max-width:100%;"></a> 
  <a name="user-content-avpath-user-manual" target="_blank" href=""></a> 
  <h2><a id="user-content-avpath-user-manual" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#avpath-user-manual" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>avpath User Manual</h2> 
  <a name="user-content-preface" target="_blank" href=""></a> 
  <h2><a id="user-content-preface" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#preface" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Preface</h2> 
  <p>avpath is the likeness of xpath/jspath to select, update, insert, delete data on Avro form. Which could be used by Java/Scala as API library，or used as data service for Avro records. The expression is similar to <a href="https://github.com/dfilatov/jspath" target="_blank">jspath</a>, but we also added APIs to support for <strong>Update</strong>, <strong>Delete</strong>, <strong>Clear</strong>, <strong>Insert</strong> and <strong>InsertAll</strong>. This manual is based on the User Manual of jspath.</p> 
  <p>Comparing to jspath that is applied on Json data, avpath is applied on Avro data that has Map data type, thus leading to an extra experssion to query map by key:</p> 
  <div class="highlight highlight-source-scala">
   <pre>avpath.select(record, <span class="pl-s"><span class="pl-pds">"</span>.mapfield(<span class="pl-cce">\"</span>thekey<span class="pl-cce">\"</span>)<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <a name="user-content-usage" target="_blank" href=""></a> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <a name="user-content-select" target="_blank" href=""></a> 
  <h3><a id="user-content-select" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#select" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Select:</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.wandoujia.avro.avpath.</span><span class="pl-v">Evaluator</span>
<span class="pl-k">import</span> <span class="pl-v">com.wandoujia.avro.avpath.</span><span class="pl-v">Parser</span>

<span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Schema.parse</span>(<span class="pl-s"><span class="pl-pds">"</span>account.avsc<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">account</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">GenericData.Record</span>(schema)
...

<span class="pl-k">var</span> <span class="pl-en">x</span> <span class="pl-k">=</span> avpath.select(record, <span class="pl-s"><span class="pl-pds">"</span>.chargeRecords[0].time<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <a name="user-content-update" target="_blank" href=""></a> 
  <h3><a id="user-content-update" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#update" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Update:</h3> 
  <div class="highlight highlight-source-scala">
   <pre>avpath.update(record, <span class="pl-s"><span class="pl-pds">"</span>.chargeRecords[0].time<span class="pl-pds">"</span></span>, <span class="pl-c1">100000</span>)</pre>
  </div> 
  <a name="user-content-delete-only-applicable-on-elements-of-array-map" target="_blank" href=""></a> 
  <h3><a id="user-content-delete-only-applicable-on-elements-of-arraymap" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#delete-only-applicable-on-elements-of-arraymap" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Delete (Only applicable on elements of Array/Map):</h3> 
  <div class="highlight highlight-source-scala">
   <pre>avpath.delete(record, <span class="pl-s"><span class="pl-pds">"</span>.chargeRecords[*]{.time &lt; 1000}<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <a name="user-content-clear-only-applicable-on-array-map" target="_blank" href=""></a> 
  <h3><a id="user-content-clear-only-applicable-on-arraymap" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#clear-only-applicable-on-arraymap" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Clear (Only applicable on Array/Map):</h3> 
  <div class="highlight highlight-source-scala">
   <pre>avpath.clear(record, <span class="pl-s"><span class="pl-pds">"</span>.chargeRecords<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <a name="user-content-insert-insertall-only-applicable-on-array-map" target="_blank" href=""></a> 
  <h3><a id="user-content-insertinsertall-only-applicable-on-arraymap" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#insertinsertall-only-applicable-on-arraymap" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Insert/InsertAll (Only applicable on Array/Map):</h3> 
  <div class="highlight highlight-source-scala">
   <pre>avpath.insert(record, <span class="pl-s"><span class="pl-pds">"</span>.chargeRecords<span class="pl-pds">"</span></span>, chargeRecord)

avpath.insertAll(record, <span class="pl-s"><span class="pl-pds">"</span>.chargeRecords<span class="pl-pds">"</span></span>, <span class="pl-en">List</span>(chargeRecord1, chargeRecord2))</pre>
  </div> 
  <p>where:</p> 
  <table> 
   <thead valign="bottom"> 
    <tr>
     <th>&nbsp;</th> 
     <th>Type</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody valign="top"> 
    <tr>
     <td>path</td> 
     <td>string</td> 
     <td>path expression</td> 
    </tr> 
    <tr>
     <td>avro</td> 
     <td>any valid avro</td> 
     <td>input avro data</td> 
    </tr> 
    <tr>
     <td>schema</td> 
     <td>schema</td> 
     <td>&nbsp;</td> 
    </tr> 
   </tbody> 
  </table> 
  <a name="user-content-quick-example" target="_blank" href=""></a> 
  <h3><a id="user-content-quick-example" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#quick-example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick example</h3> 
  <p>the first param is pseudo avro record in json format.</p> 
  <div class="highlight highlight-source-scala">
   <pre>avpath.select(
    {
        <span class="pl-s"><span class="pl-pds">"</span>automobiles<span class="pl-pds">"</span></span> <span class="pl-k">:</span> [
            { <span class="pl-s"><span class="pl-pds">"</span>maker<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Nissan<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>model<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Teana<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-c1">2011</span> },
            { <span class="pl-s"><span class="pl-pds">"</span>maker<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>model<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Jazz<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-c1">2010</span> },
            { <span class="pl-s"><span class="pl-pds">"</span>maker<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>model<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Civic<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-c1">2007</span> },
            { <span class="pl-s"><span class="pl-pds">"</span>maker<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Toyota<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>model<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Yaris<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-c1">2008</span> },
            { <span class="pl-s"><span class="pl-pds">"</span>maker<span class="pl-pds">"</span></span> <span class="pl-k">:</span><span class="pl-k">*</span> <span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>model<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Accord<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-c1">2011</span> }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>motorcycles<span class="pl-pds">"</span></span> <span class="pl-k">:</span> [{ <span class="pl-s"><span class="pl-pds">"</span>maker<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Honda<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>model<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>ST1300<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> <span class="pl-k">:</span> <span class="pl-c1">2012</span> }]
    },
    <span class="pl-s"><span class="pl-pds">"</span>.automobiles{.maker === <span class="pl-cce">\"</span>Honda<span class="pl-cce">\"</span> &amp;&amp; .year &gt; 2009}.model<span class="pl-pds">"</span></span>
    )</pre>
  </div> 
  <p>Result will be:</p> 
  <pre>['Jazz', 'Accord']
</pre> 
  <a name="user-content-documentation" target="_blank" href=""></a> 
  <h2><a id="user-content-documentation" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h2> 
  <p>avpath expression consists of two type of top-level expressions: location path (required) and predicates (optional).</p> 
  <a name="user-content-location-path" target="_blank" href=""></a> 
  <h3><a id="user-content-location-path" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#location-path" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Location path</h3> 
  <p>To select items in avpath, you use a location path. A location path consists of one or more location steps. Every location step starts with dot (.) or two dots (..) depending on the item you're trying to select:</p> 
  <ul> 
   <li><code>.property</code> — locates property immediately descended from context items</li> 
   <li><code>..property</code> <strong>[TODO]</strong> — locates property deeply descended from context items</li> 
   <li><code>.</code> — locates context items itself</li> 
  </ul> 
  <p>You can use the wildcard symbol (*) instead of exact name of property:</p> 
  <ul> 
   <li><code>.*</code> — locates all properties immediately descended from the context items</li> 
   <li><code>..*</code> <strong>[TODO]</strong> — locates all properties deeply descended from the context items</li> 
  </ul> 
  <p>Also avpath allows to join several properties:</p> 
  <ul> 
   <li><code>(.property1 | .property2 | .propertyN)</code> — locates property1, property2, propertyN immediately descended from context items</li> 
   <li>or even <code>(.property1 | .property2.property2_1.property2_1_1)</code> — locates .property1, .property2.property2_1.property2_1_1 items</li> 
  </ul> 
  <p>Your location path can be absolute or relative. If location path starts with the root (^) you are using an absolute location path — your location path begins from the root items.</p> 
  <p>Consider the following Avro data (<strong>expressed in JSON for convenience</strong>):</p> 
  <div class="highlight highlight-source-json">
   <pre>var doc =
<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
<span class="pl-s">{</span>
<span class="pl-s">    <span class="pl-pds">"</span></span>books<span class="pl-s"><span class="pl-pds">"</span> : [</span>
<span class="pl-s">        {</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>id<span class="pl-s"><span class="pl-pds">"</span>     : 1,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>title<span class="pl-s"><span class="pl-pds">"</span>  : <span class="pl-pds">"</span></span>Clean Code<span class="pl-s"><span class="pl-pds">"</span>,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>author<span class="pl-s"><span class="pl-pds">"</span> : { <span class="pl-pds">"</span></span>name<span class="pl-s"><span class="pl-pds">"</span> : <span class="pl-pds">"</span></span>Robert C. Martin<span class="pl-s"><span class="pl-pds">"</span> },</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>price<span class="pl-s"><span class="pl-pds">"</span>  : 17.96</span>
<span class="pl-s">        },</span>
<span class="pl-s">        {</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>id<span class="pl-s"><span class="pl-pds">"</span>     : 2,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>title<span class="pl-s"><span class="pl-pds">"</span>  : <span class="pl-pds">"</span></span>Maintainable JavaScript<span class="pl-s"><span class="pl-pds">"</span>,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>author<span class="pl-s"><span class="pl-pds">"</span> : { <span class="pl-pds">"</span></span>name<span class="pl-s"><span class="pl-pds">"</span> : <span class="pl-pds">"</span></span>Nicholas C. Zakas<span class="pl-s"><span class="pl-pds">"</span> },</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>price<span class="pl-s"><span class="pl-pds">"</span>  : 10</span>
<span class="pl-s">        },</span>
<span class="pl-s">        {</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>id<span class="pl-s"><span class="pl-pds">"</span>     : 3,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>title<span class="pl-s"><span class="pl-pds">"</span>  : <span class="pl-pds">"</span></span>Agile Software Development<span class="pl-s"><span class="pl-pds">"</span>,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>author<span class="pl-s"><span class="pl-pds">"</span> : { <span class="pl-pds">"</span></span>name<span class="pl-s"><span class="pl-pds">"</span> : <span class="pl-pds">"</span></span>Robert C. Martin<span class="pl-s"><span class="pl-pds">"</span> },</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>price<span class="pl-s"><span class="pl-pds">"</span>  : 20</span>
<span class="pl-s">        },</span>
<span class="pl-s">        {</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>id<span class="pl-s"><span class="pl-pds">"</span>     : 4,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>title<span class="pl-s"><span class="pl-pds">"</span>  : <span class="pl-pds">"</span></span>JavaScript: The Good Parts<span class="pl-s"><span class="pl-pds">"</span>,</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>author<span class="pl-s"><span class="pl-pds">"</span> : { <span class="pl-pds">"</span></span>name<span class="pl-s"><span class="pl-pds">"</span> : <span class="pl-pds">"</span></span>Douglas Crockford<span class="pl-s"><span class="pl-pds">"</span> },</span>
<span class="pl-s">            <span class="pl-pds">"</span></span>price<span class="pl-s"><span class="pl-pds">"</span>  : 15.67</span>
<span class="pl-s">        }</span>
<span class="pl-s">    ]</span>
<span class="pl-s">};</span>
<span class="pl-s"></span>
<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span><span class="pl-pds">"</span></span></pre>
  </div> 
  <a name="user-content-examples" target="_blank" href=""></a> 
  <h4><a id="user-content-examples" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// find all books authors</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books.author<span class="pl-pds">"</span></span>)
<span class="pl-c">// [{ name : 'Robert C. Martin' }, { name : 'Nicholas C. Zakas' }, { name : 'Robert C. Martin' }, { name : 'Douglas Crockford' }]</span>

<span class="pl-c">// find all books author names</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books.author.name<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Robert C. Martin', 'Nicholas C. Zakas', 'Robert C. Martin', 'Douglas Crockford' ]</span>

<span class="pl-c">// find all names in books*</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books..name<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Robert C. Martin', 'Nicholas C. Zakas', 'Robert C. Martin', 'Douglas Crockford' ]</span></pre>
  </div> 
  <a name="user-content-predicates" target="_blank" href=""></a> 
  <h3><a id="user-content-predicates" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#predicates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Predicates</h3> 
  <p>avpath predicates allow you to write very specific rules about items you'd like to select when constructing your expressions. Predicates are filters that restrict the items selected by location path. There're two possible types of predicates: object and positional.</p> 
  <a name="user-content-object-predicates" target="_blank" href=""></a> 
  <h3><a id="user-content-object-predicates" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#object-predicates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Object predicates</h3> 
  <p>Object predicates can be used in a path expression to filter a subset of items according to a boolean expressions working on a properties of each item. Object predicates are embedded in braces.</p> 
  <p>Basic expressions in object predicates:</p> 
  <ul> 
   <li>numeric literals (e.g. 1.23)</li> 
   <li>string literals (e.g. "John Gold")</li> 
   <li>boolean literals (true/false)</li> 
   <li>subpathes (e.g. .nestedProp.deeplyNestedProp)</li> 
  </ul> 
  <p>avpath allows to use in predicate expressions following types of operators:</p> 
  <ul> 
   <li>comparison operators</li> 
   <li>string comparison operators</li> 
   <li>logical operators</li> 
   <li>arithmetic operators</li> 
  </ul> 
  <a name="user-content-comparison-operators" target="_blank" href=""></a> 
  <h4><a id="user-content-comparison-operators" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#comparison-operators" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><strong>Comparison operators</strong></h4> 
  <table> 
   <tbody valign="top"> 
    <tr>
     <td><code>==</code></td> 
     <td>Returns is true if both operands are equal</td> 
     <td><code>.books{.id == "1"}</code></td> 
    </tr> 
    <tr>
     <td><code>===</code></td> 
     <td>Returns true if both operands are strictly equal with no type conversion</td> 
     <td><code>.books{.id === 1}</code></td> 
    </tr> 
    <tr>
     <td><code>!=</code></td> 
     <td>Returns true if the operands are not equal</td> 
     <td><code>.books{.id != "1"}</code></td> 
    </tr> 
    <tr>
     <td><code>!==</code></td> 
     <td>Returns true if the operands are not equal and/or not of the same type</td> 
     <td><code>.books{.id !== 1}</code></td> 
    </tr> 
    <tr>
     <td><code>&gt;</code></td> 
     <td>Returns true if the left operand is greater than the right operand</td> 
     <td><code>.books{.id &gt; 1}</code></td> 
    </tr> 
    <tr>
     <td><code>&gt;=</code></td> 
     <td>Returns true if the left operand is greater than or equal to the right operand</td> 
     <td><code>.books{.id &gt;= 1}</code></td> 
    </tr> 
    <tr>
     <td><code>&lt;</code></td> 
     <td>Returns true if the left operand is less than the right operand</td> 
     <td><code>.books{.id &lt; 1}</code></td> 
    </tr> 
    <tr>
     <td><code>&lt;=</code></td> 
     <td>Returns true if the left operand is less than or equal to the right operand</td> 
     <td><code>.books{.id &lt;= 1}</code></td> 
    </tr> 
   </tbody> 
  </table> 
  <p>Comparison rules:</p> 
  <ul> 
   <li>if both operands to be compared are arrays, then the comparison will be true if there is an element in the first array and an element in the second array such that the result of performing the comparison of two elements is true</li> 
   <li>if one operand is array and another is not, then the comparison will be true if there is element in array such that the result of performing the comparison of element and another operand is true</li> 
   <li>primitives to be compared as usual javascript primitives</li> 
  </ul> 
  <p>If both operands are strings, there're also available additional comparison operators:</p> 
  <a name="user-content-string-comparison-operators" target="_blank" href=""></a> 
  <h4><a id="user-content-string-comparison-operators" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#string-comparison-operators" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><strong>String comparison operators</strong></h4> 
  <table> 
   <tbody valign="top"> 
    <tr>
     <td><code>==</code></td> 
     <td>Like an usual <code>==</code> but case insensitive</td> 
     <td><code>.books{.title == "clean code"}</code></td> 
    </tr> 
    <tr>
     <td><code>^==</code></td> 
     <td>Returns true if left operand value beginning with right operand value</td> 
     <td><code>.books{.title ^== "Javascript"}</code></td> 
    </tr> 
    <tr>
     <td><code>^=</code></td> 
     <td>Like the <code>^==</code> but case insensitive</td> 
     <td><code>.books{.title ^= "javascript"}</code></td> 
    </tr> 
    <tr>
     <td><code>$==</code></td> 
     <td>Returns true if left operand value ending with right operand value</td> 
     <td><code>.books{.title $== "Javascript"}</code></td> 
    </tr> 
    <tr>
     <td><code>$=</code></td> 
     <td>Like the <code>$==</code> but case insensitive</td> 
     <td><code>.books{.title $= "javascript"}</code></td> 
    </tr> 
    <tr>
     <td><code>*==</code></td> 
     <td>Returns true if left operand value contains right operand value</td> 
     <td><code>.books{.title \*== "Javascript"}</code></td> 
    </tr> 
    <tr>
     <td><code>*=</code></td> 
     <td>Like the <code>\*==</code> but case insensitive</td> 
     <td><code>.books{.title \*= "javascript"}</code></td> 
    </tr> 
   </tbody> 
  </table> 
  <a name="user-content-logical-operators" target="_blank" href=""></a> 
  <h4><a id="user-content-logical-operators" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#logical-operators" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><strong>Logical operators</strong></h4> 
  <table> 
   <tbody valign="top"> 
    <tr>
     <td><code>&amp;&amp;</code></td> 
     <td>Returns true if both operands are true</td> 
     <td><code>.books{.price &gt; 19 &amp;&amp; .author.name === "Robert C. Martin"}</code></td> 
    </tr> 
    <tr>
     <td><code>||</code></td> 
     <td>Returns true if either operand is true</td> 
     <td><code>.books{.title === "Maintainable JavaScript" || .title === "Clean Code"}</code></td> 
    </tr> 
    <tr>
     <td><code>!</code></td> 
     <td>Returns true if operand is false</td> 
     <td><code>.books{!.title}</code></td> 
    </tr> 
   </tbody> 
  </table> 
  <p>Logical operators convert their operands to boolean values using next rules:</p> 
  <ul> 
   <li>if operand is array (as you remember result of applying subpath is also array):
    <ul> 
     <li>if length of array greater than zero, result will be true</li> 
     <li>else result will be false</li> 
    </ul> </li> 
   <li>Casting with double NOT (!!) javascript operator to be used in any other cases.</li> 
  </ul> 
  <a name="user-content-arithmetic-operators" target="_blank" href=""></a> 
  <h4><a id="user-content-arithmetic-operators" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#arithmetic-operators" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><strong>Arithmetic operators</strong></h4> 
  <table> 
   <tbody valign="top"> 
    <tr>
     <td><code>+</code></td> 
     <td>addition</td> 
    </tr> 
    <tr>
     <td><code>-</code></td> 
     <td>subtraction</td> 
    </tr> 
    <tr>
     <td><code>*</code></td> 
     <td>multiplication</td> 
    </tr> 
    <tr>
     <td><code>/</code></td> 
     <td>division</td> 
    </tr> 
    <tr>
     <td><code>%</code></td> 
     <td>modulus</td> 
    </tr> 
   </tbody> 
  </table> 
  <a name="user-content-operator-precedence" target="_blank" href=""></a> 
  <h4><a id="user-content-operator-precedence" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#operator-precedence" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><strong>Operator precedence</strong></h4> 
  <table> 
   <tbody valign="top"> 
    <tr>
     <td>1 (top)</td> 
     <td><code>! -unary</code></td> 
    </tr> 
    <tr>
     <td>2</td> 
     <td><code>* / %</code></td> 
    </tr> 
    <tr>
     <td>3</td> 
     <td><code>+ -binary</code></td> 
    </tr> 
    <tr>
     <td>4</td> 
     <td><code>&gt;=</code></td> 
    </tr> 
    <tr>
     <td>5</td> 
     <td><code>== === != !== ^= ^== $== $= *= *==</code></td> 
    </tr> 
    <tr>
     <td>6</td> 
     <td><code>&amp;&amp;</code></td> 
    </tr> 
    <tr>
     <td>7</td> 
     <td><code>||</code></td> 
    </tr> 
   </tbody> 
  </table> 
  <p>Parentheses are used to explicitly denote precedence by grouping parts of an expression that should be evaluated first.</p> 
  <a name="user-content-id1" target="_blank" href=""></a> 
  <h4><a id="user-content-examples-1" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#examples-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// find all book titles whose author is Robert C. Martin</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books{.author.name === <span class="pl-cce">\"</span>Robert C. Martin<span class="pl-cce">\"</span>}.title<span class="pl-pds">"</span></span>, schema)
<span class="pl-c">// ['Clean Code', 'Agile Software Development']</span>

<span class="pl-c">// find all book titles with price less than 17</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books{.price &lt; 17}.title<span class="pl-pds">"</span></span>, schema)
<span class="pl-c">// ['Maintainable JavaScript', 'JavaScript: The Good Parts']</span></pre>
  </div> 
  <a name="user-content-array-positional-predicates" target="_blank" href=""></a> 
  <h3><a id="user-content-array-positional-predicates" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#array-positional-predicates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Array positional predicates</h3> 
  <p>Positional predicates allow you to filter items by their context position. Positional predicates are always embedded in square brackets.</p> 
  <p>There are four available forms:</p> 
  <ul> 
   <li><code>[index]</code> — returns index-positioned item in context (first item is at index 0), e.g. [3] returns fourth item in context</li> 
   <li><code>[index:]</code> — returns items whose index in context is greater or equal to index, e.g. [2:] returns items whose index in context is greater or equal to 2</li> 
   <li><code>[:index]</code> — returns items whose index in context is smaller than index, e.g. [:5] returns first five items in context</li> 
   <li><code>[indexFrom:indexTo]</code> — returns items whose index in context is greater or equal to indexFrom and smaller than indexTo, e.g. [2:5] returns three items with indices 2, 3 and 4</li> 
  </ul> 
  <p>Also you can use negative position numbers:</p> 
  <ul> 
   <li><code>[-1]</code> — returns last item in context</li> 
   <li><code>[-3:]</code> — returns last three items in context</li> 
  </ul> 
  <a name="user-content-id2" target="_blank" href=""></a> 
  <h4><a id="user-content-examples-2" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#examples-2" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// find first book title</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books[0].title<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Clean Code']</span>

<span class="pl-c">// find first title of books</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books.title[0]<span class="pl-pds">"</span></span>)
<span class="pl-c">// 'Clean Code'</span>

<span class="pl-c">// find last book title</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books[-1].title<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['JavaScript: The Good Parts']</span>

<span class="pl-c">// find two first book titles</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books[:2].title<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Clean Code', 'Maintainable JavaScript']</span>

<span class="pl-c">// find two last book titles</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books[-2:].title<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Agile Software Development', 'JavaScript: The Good Parts']</span>

<span class="pl-c">// find two book titles from second position</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books[1:3].title<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Maintainable JavaScript', 'Agile Software Development']</span></pre>
  </div> 
  <a name="user-content-map-key-predicates" target="_blank" href=""></a> 
  <h3><a id="user-content-map-key-predicates" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#map-key-predicates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Map key predicates</h3> 
  <p>Key predicates allow you to filter items by their key via regex. Regex predicates are always embedded in ().</p> 
  <ul> 
   <li><code>("key" | ~"key regex")</code> — returns items in context (which matches regex)</li> 
  </ul> 
  <a name="user-content-multiple-predicates" target="_blank" href=""></a> 
  <h3><a id="user-content-multiple-predicates" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#multiple-predicates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Multiple predicates</h3> 
  <p>You can use more than one predicate. The result will contain only items that match all the predicates.</p> 
  <a name="user-content-id3" target="_blank" href=""></a> 
  <h4><a id="user-content-examples-3" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#examples-3" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><strong>Examples</strong></h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// find first book name whose price less than 15 and greater than 5</span>
avpath.select(doc, <span class="pl-s"><span class="pl-pds">"</span>.books{.price &lt; 15}{.price &gt; 5}[0].title<span class="pl-pds">"</span></span>)
<span class="pl-c">// ['Maintainable JavaScript']</span></pre>
  </div> 
  <a name="user-content-substitutions-todo" target="_blank" href=""></a> 
  <h3><a id="user-content-substitutions-todo" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#substitutions-todo" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Substitutions (TODO)</h3> 
  <p>Substitutions allow you to use runtime-evaluated values in predicates.</p> 
  <a name="user-content-id4" target="_blank" href=""></a> 
  <h4><a id="user-content-examples-4" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#examples-4" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">var</span> <span class="pl-en">path</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>.books{.author.name === $author}.title<span class="pl-pds">"</span></span>

<span class="pl-c">// find book name whose author Nicholas C. Zakas</span>
avpath.select(doc, path, <span class="pl-s"><span class="pl-pds">"""</span>{ author : 'Nicholas C. Zakas' }<span class="pl-pds">"""</span></span>)
<span class="pl-c">// ['Maintainable JavaScript']</span>

<span class="pl-c">// find books name whose authors Robert C. Martin or Douglas Crockford</span>
avpath.select(doc, path, { <span class="pl-v">author</span> : <span class="pl-s"><span class="pl-pds">"""</span>['Robert C. Martin', 'Douglas Crockford']<span class="pl-pds">"""</span></span> })
<span class="pl-c">// ['Clean Code', 'Agile Software Development', 'JavaScript: The Good Parts']</span></pre>
  </div> 
  <a name="user-content-result" target="_blank" href=""></a> 
  <h3><a id="user-content-result" class="anchor" href="https://github.com/wandoulabs/wandou-avpath#result" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Result</h3> 
  <p>Result of applying AvPath is always a List (empty, if found nothing), excluding case when the last predicate in top-level expression is a positional predicate with the exact index (e.g. [0], [5], [-1]). In this case, result is an Option item at the specified index (None if item hasn't found).</p> 
 </article>
</div>